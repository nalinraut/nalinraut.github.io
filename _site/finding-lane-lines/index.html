<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>Finding Lane Lines on Road &#8211; Nalin Raut</title> <meta name="description" content="Moon is a minimal, one column jekyll theme for your blog."> <meta name="keywords" content=""> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/nr.jpg"> <meta name="twitter:title" content="Finding Lane Lines on Road"> <meta name="twitter:description" content="Computer Vision"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Finding Lane Lines on Road"> <meta property="og:description" content="Computer Vision"> <meta property="og:url" content="http://localhost:4000/finding-lane-lines/"> <meta property="og:site_name" content="Nalin Raut"> <meta property="og:image" content="http://localhost:4000/assets/img/nr.jpg"> <link rel="canonical" href="http://localhost:4000/finding-lane-lines/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Nalin Raut Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/NR.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/NR.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/NR.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/NR.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/NR.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <!-- <li> <img src="http://localhost:4000/assets/img/nr.jpg" alt="Nalin Raut photo" class="author-photo"> <h4>Nalin Raut</h4> <p>Moon is a minimal, one column jekyll theme for your blog.</p> </li> --> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">About Me</span></a></li> <li> <a href="http://localhost:4000/education">My Education</a> </li> <li> <a href="http://localhost:4000/about">Professional Experience</a> </li> <li> <a href="http://localhost:4000/about">Personal Elevation</a> </li> <!-- <li> <a href="mailto:rautnalin@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://linkedin.com/in/nalinraut" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/nalinraut" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> --> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Skills</a> <!-- <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> --> </li> <li><a href="http://localhost:4000/projects/" >Projects</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Finding Lane Lines on Road</h1> <hr class="dark"> <h4>June 2018</h4> <a class="btn zoombtn" href="http://localhost:4000/projects/"> <i class="fa fa-chevron-left"></i> </a> <a class="btn zoombtn" href="http://localhost:4000"> <i class="fa fa-home"></i> </a> </div> <hr /> <p><img src="/assets/img/lanelines/video.gif" alt="" /> <br /></p> <center><h3>Description</h3></center> <hr class="star-primary" /> <p style="text-align: justify"> When we drive, we use our eyes to decide where to go. The lines on the road that show us where the lanes are act as our constant reference for where to steer the vehicle. In this project, I develop an algorithm to detect lane lines automatically.<br /> Programming platform and Libraries: Python and OpenCV.</p> <center><h3>Methodology</h3></center> <hr class="star-primary" /> <!-- <p style="text-align: justify">Firstly, a valid maze is generated using Depth-First Search Algorithm. Further, robot follows the undermentioned policy,<br/> • Each robot starts exploring those cells which have not been previously explored by itself and any other robots.<br/> • While exploring, if a robot detects a junction which is a cell with two or more branches, the robot arbitrarily chooses a direction for further exploration and stores the junction as potentially unexplored node.<br/> • While exploring the maze, if the robot encounters a dead-end or enters a cell already explored by another robot, the robot back-tracks to the nearest unexplored cell.<br/> • All robots continue their exploration until all potentially unexplored cells in their respective lists are visited.<br/> • Since all robots are continuously communicating with the common server, they get the completely mapped maze in the end which will further be used to travel to the goal node.<br/></p> --> <h3 id="1the-pipeline">1.The Pipeline</h3> <p>My pipelines consists of the following steps:</p> <h4 id="i-converting-the-input-image-to-hls-from-rgb">(i) Converting the input image to HLS from RGB:</h4> <p>The <i>toHLS()</i> function converts the image to HLS scale and masks the image with yellow and white filters. The HLS domain takes care of the variation in the lighting conditions.</p> <p><img src="/assets/img/lanelines/hsv_img.png" alt="HLS Image" /></p> <h4 id="ii-converting-the-hsl-masked-image-to-grayscale">(ii) Converting the HSL masked image to grayscale:</h4> <p>The image is further converted into an grayscale image.</p> <p><img src="/assets/img/lanelines/gray_img.png" alt="Grayscale" /></p> <h4 id="iii-applying-guassian-blur">(iii) Applying Guassian Blur:</h4> <p>Further, a Guassian Blur filter with kernel size 15 is used to remove noise.</p> <p><img src="/assets/img/lanelines/gray_blur.png" alt="Gaussian Blur" /></p> <h4 id="iv-perform-canny-edge-detection">(iv) Perform Canny Edge Detection:</h4> <p>Next the grayscaled image is fed into a canny edge detector and edges are obtained. A double threshold is used (low threshold = 100 and high threshold = 200) with low threshold to high threshold ratio between 1/2 p 1/3 as suggested.</p> <p><img src="/assets/img/lanelines/edges.png" alt="Canny" /></p> <h4 id="v-extract-region-of-interest">(v) Extract Region of Interest:</h4> <p>Edges are detected all over the image, however, the edges that matter are in a particular region therefore the polygonal region is extracted and only those edges that fall in that region are kept while rest are discarded.</p> <p><img src="/assets/img/lanelines/roi1.png" alt="Canny with RoI" /></p> <h4 id="vi-draw-hough-lines-on-the-edge-image">(vi) Draw Hough Lines on the Edge Image:</h4> <p>&lt;div class=text-justify&gt; The image with edges is used to draw Hough lines. The function basically converts the points in the image space to lines inthe Hough space. For drawing lines I use the <i>modified_draw_lines()</i> function to ensure several line segments are extrapolated/ averaged to one line segment per lane line, also ensuring the smoothness. The raw line segments (more than one per lane line) are broken and need to be averaged as well as extrapolated and for this, I find the slope of each line segment and further classify the points on the line segments to be part of either positive slope or negative slope. Here the line segments with positive slope belong to the right lane line and line segments with negative slope belong to the left lane line. To fit a line, <i>polyfit()</i> with 1 degree is used and further the lane lines are drawn. A global list with a fixed length is maintained to which the coordinates are appended. This helps the algorithm to also keep track of previous points. This way, the broken lines can be extrapolated/ averaged to a single line.&lt;/div&gt;</p> <p><img src="/assets/img/lanelines/extrapolated.png" alt="Extrapolate" /></p> <h4 id="vii-extract-region-of-interest">(vii) Extract Region of Interest:</h4> <p>Again, the extrapolated lane lines are drawn on the entire image. To avoid this a region of interest masks the image for the lane lines appear only in the region that matters.</p> <p><img src="/assets/img/lanelines/final_extrapolate.png" alt="Extrapolate with RoI" /></p> <h4 id="viii-weighted-image">(viii) Weighted Image:</h4> <p>The image with extrpolated lines goes on the original image and forms the final image.</p> <p><img src="/assets/img/lanelines/image.jpg" alt="Final Image" /></p> <!-- <center><h3>Results</h3></center> <hr class="star-primary"> <p style="text-align: justify"> </p> --> <center><h3>Conclusion</h3></center> <hr class="star-primary" /> <p style="text-align: justify"> This project is a very primitive way of detecting lane lines. The shortcoming of this project is the need to manually tune a number of parameters that can be done using auto-calibration. Also, the algorithm can be improved using a quadratic curve fitting techinique encompassing the edge points. This will provide with better results. </p> <hr class="star-primary" /> <ul id="horizontal-list"> <li class="display: inline"> <strong><a target="_blank" href="https://github.com/nalinraut/CarND-Lane_Lines">Code Repository Link <i class="fa fa-fw fa-github"></i></a> </strong> </li> <!-- <li> <strong><a href="javascript:void(0);">Project-Report</a> </strong> </li> --> </ul> <div class="entry-meta"> </div> </div> </div> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'taylantatli'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </body> </html>
